webpackJsonp([22],{"+tXq":function(t,a){},qBXO:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("3cXf"),i=e.n(s),n={data:function(){return{beginDate:"",endDate:"",ip:"",name:"",tableData:[],dialogVisible:!1,id:"",updateBasData:{id:"",basdesc:"",bascode:""}}},created:function(){var t=this;this.$ajax.post("/basic/getBasData").then(function(a){t.tableData=a.data,console.log(a.data)})},methods:{bascodeFun:function(t){return"0"==t},changebascode:function(t,a){var e=this,s={id:a,bascode:t?0:1};this.$ajax.post("/basic/updateBasData","json="+i()(s)).then(function(t){e.$ajax.post("/basic/getBasData").then(function(t){e.tableData=t.data,e.$message({message:"修改成功",type:"success"})})})},getip:function(){var t=this;this.$ajax.post("/thetada/dr_ipr","ip="+this.ip+"&name="+this.name).then(function(a){t.$message(a.data),console.log("ip结果",a.data)})},pushdata:function(){var t=this;this.$ajax.post("/thetada/da_push","beginDate="+this.tftime(this.beginDate)+"&endDate="+this.tftime(this.endDate)).then(function(a){t.$message(a.data),console.log("推送结果",a.data)})},submit:function(){var t=this;this.$ajax.post("/basic/updateBasData","json="+i()(this.updateBasData)).then(function(a){t.$ajax.post("/basic/getBasData").then(function(a){t.tableData=a.data,t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1})})},handleClick:function(t){console.log(t),this.updateBasData=$.extend(!0,{},t),this.dialogVisible=!0},tftime:function(t){var a=new Date(t),e=a.getFullYear(),s=a.getMonth()+1;s=s<10?"0"+s:s,t=(t=a.getDate())<10?"0"+t:t;var i=a.getHours();i=i<10?"0"+i:i;var n=a.getMinutes(),o=a.getSeconds();return e+"-"+s+"-"+t+" "+i+":"+(n=n<10?"0"+n:n)+":"+(o=o<10?"0"+o:o)}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"health-configuration"},[e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-tag",{staticStyle:{"margin-bottom":"10px"}},[t._v("主动推送院数据")]),t._v(" "),e("br"),t._v(" "),e("span",[t._v("开始时间：")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"196px","margin-right":"18px"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.beginDate,callback:function(a){t.beginDate=a},expression:"beginDate"}}),t._v(" "),e("span",[t._v("结束时间：")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"196px"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.pushdata}},[t._v("确定")])],1),t._v(" "),e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-tag",{staticStyle:{"margin-bottom":"10px"}},[t._v("向服务器注册本地公网 IP")]),t._v(" "),e("br"),t._v(" "),e("span",[t._v("院名称：")]),t._v(" "),e("el-input",{staticStyle:{width:"198px","margin-right":"18px"},attrs:{placeholder:"请输入内容"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),e("span",[t._v("ip地址：")]),t._v(" "),e("el-input",{staticStyle:{width:"198px"},attrs:{placeholder:"请输入内容"},model:{value:t.ip,callback:function(a){t.ip=a},expression:"ip"}}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.getip}},[t._v("确定")])],1),t._v(" "),e("el-table",{staticClass:"HealthConfiguration-step1",staticStyle:{width:"100%"},attrs:{height:" 72%",data:t.tableData}},[e("el-table-column",{attrs:{prop:"basname",label:"名称",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"当前值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return["均值滤波"===a.row.basname||"Kalman滤波"===a.row.basname||"平滑"===a.row.basname||"遮罩"===a.row.basname||"电子围栏自动添加"===a.row.basname?e("span",[t._v(t._s("0"==a.row.bascode?"开":"关"))]):e("span",[t._v(t._s(a.row.bascode))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"basdesc",label:"备注",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return["均值滤波"===a.row.basname||"Kalman滤波"===a.row.basname||"平滑"===a.row.basname||"遮罩"===a.row.basname||"电子围栏自动添加"===a.row.basname?e("el-switch",{attrs:{value:t.bascodeFun(a.row.bascode),"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){t.changebascode(e,a.row.id)}}}):e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleClick(a.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),e("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("el-form",{ref:"form",attrs:{model:t.updateBasData}},[e("el-form-item",{attrs:{label:"值"}},[e("el-input",{attrs:{placeholder:"请输入值"},model:{value:t.updateBasData.bascode,callback:function(a){t.$set(t.updateBasData,"bascode",a)},expression:"updateBasData.bascode"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.updateBasData.basdesc,callback:function(a){t.$set(t.updateBasData,"basdesc",a)},expression:"updateBasData.basdesc"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=e("C7Lr")(n,o,!1,function(t){e("+tXq")},"data-v-7f059444",null);a.default=l.exports}});
//# sourceMappingURL=22.bd1292313dde3b5d7e4a.js.map