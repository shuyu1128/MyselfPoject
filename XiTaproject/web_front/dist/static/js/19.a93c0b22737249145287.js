webpackJsonp([19],{"2qlz":function(t,e){},"93iD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("3cXf"),a=n.n(s),i={data:function(){return{defaultch:[2],data:[{}]}},props:{id:null},created:function(){var t=this;this.$ajax.post("/rail/getPersonTree").then(function(e){t.data=e.data}),this.$ajax.post("/rail/getPersonIdByRailid","railid="+this.id).then(function(e){t.defaultch=e.data})},methods:{getCheckedNodes:function(){var t=this,e=[];this.$refs.tree.getCheckedNodes().forEach(function(t){t.isPerson&&e.push(t.id)}),this.$ajax.post("/rail/insertPersonRailGroup","userid="+this.$store.state.token+"&persons="+a()(e)+"&railgroupid="+this.id).then(function(e){"success"==e.data?t.$message({message:"修改成功",type:"success"}):t.$message.error("修改失败")})}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auto_y"},[e("el-button",{staticClass:"sure Fences_3-step3",attrs:{icon:"el-icon-check",type:"primary"},on:{click:this.getCheckedNodes}},[this._v("保存")]),this._v(" "),e("el-tree",{ref:"tree",attrs:{data:this.data,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":this.defaultch}})],1)},staticRenderFns:[]};var o={components:{Fencestree:n("C7Lr")(i,r,!1,function(t){n("2qlz")},"data-v-6d6d2e80",null).exports},data:function(){return{groupids:[]}},created:function(){var t=this;this.$ajax.post("/rail/getAllRailGroupList").then(function(e){0===e.data.length?t.$confirm("当前没有关于电子围栏的数据，请在电子围栏配置页面进行添加！","提示",{confirmButtonText:"转到电子围栏配置页面",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push("Fence")}).catch(function(){t.$router.go(-1)}):t.groupids=e.data})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-tabs",{staticStyle:{height:"800px"},attrs:{"tab-position":"left"}},this._l(this.groupids,function(t,n){return e("el-tab-pane",{key:n,attrs:{label:t.groupname}},[e("Fencestree",{attrs:{id:t.id}})],1)}),1)],1)},staticRenderFns:[]};var u=n("C7Lr")(o,c,!1,function(t){n("blVl")},null,null);e.default=u.exports},blVl:function(t,e){}});
//# sourceMappingURL=19.a93c0b22737249145287.js.map