{"version":3,"sources":["webpack:///src/views/Fence/Fencestree.vue","webpack:///./src/views/Fence/Fencestree.vue?37b0","webpack:///./src/views/Fence/Fencestree.vue","webpack:///src/views/Fence/Fences.vue","webpack:///./src/views/Fence/Fences.vue?c56f","webpack:///./src/views/Fence/Fences.vue"],"names":["Fencestree","data","defaultch","props","id","created","_this","this","$ajax","post","then","respones","res","methods","getCheckedNodes","_this2","Persons","$refs","tree","forEach","element","isPerson","push","$store","state","token","stringify_default","$message","message","type","error","Fence_Fencestree","render","_h","$createElement","_c","_self","staticClass","attrs","icon","on","click","_v","ref","show-checkbox","node-key","default-expand-all","default-checked-keys","staticRenderFns","Fences","components","__webpack_require__","normalizeComponent","ssrContext","groupids","length","$confirm","confirmButtonText","cancelButtonText","$router","catch","go","Fence_Fences","staticStyle","height","tab-position","_l","item","index","key","label","groupname","Fences_Component","Fences_normalizeComponent","__webpack_exports__"],"mappings":"iIAcAA,GACAC,KADA,WAEA,OAEAC,WAAA,GAEAD,YAGAE,OACAC,GAAA,MAEAC,QAZA,WAYA,IAAAC,EAAAC,KAEAA,KAAAC,MACAC,KAAA,uBACAC,KAAA,SAAAC,GACAL,EAAAL,KAAAU,EAAAV,OAGAM,KAAAC,MACAC,KACA,4BAFA,UAGAF,KAAAH,IAEAM,KAAA,SAAAE,GACAN,EAAAJ,UAAAU,EAAAX,QAIAY,SACAC,gBADA,WACA,IAAAC,EAAAR,KAEAS,KACAT,KAAAU,MAAAC,KAAAJ,kBAAAK,QAAA,SAAAC,GACAA,EAAAC,UACAL,EAAAM,KAAAF,EAAAhB,MAGAG,KAAAC,MACAC,KACA,8BAFA,UAGAF,KAAAgB,OAAAC,MAAAC,MAHA,YAGAC,IAAAV,GAHA,gBAGAT,KAAAH,IAEAM,KAAA,SAAAE,GACA,WAAAA,EAAAX,KACAc,EAAAY,UACAC,QAAA,OACAC,KAAA,YAGAd,EAAAY,SAAAG,MAAA,aC9DeC,GADEC,OAFjB,WAA0B,IAAaC,EAAb1B,KAAa2B,eAA0BC,EAAvC5B,KAAuC6B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,aAAkBE,YAAA,sBAAAC,OAAyCC,KAAA,gBAAAV,KAAA,WAAwCW,IAAKC,MAA7MlC,KAA6MO,mBAA7MP,KAA0OmC,GAAA,QAA1OnC,KAA0OmC,GAAA,KAAAP,EAAA,WAA2CQ,IAAA,OAAAL,OAAkBrC,KAAvSM,KAAuSN,KAAA2C,gBAAA,GAAAC,WAAA,KAAAC,qBAAA,GAAAC,uBAAvSxC,KAAuSL,cAAiH,IAEja8C,oBCCjB,ICQAC,GACAC,YACAlD,WDVyBmD,EAAQ,OAcjCC,CACEpD,EACA+B,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,SCXhClD,KAJA,WAKA,OACAqD,cAGAjD,QATA,WASA,IAAAC,EAAAC,KAiBAA,KAAAC,MACAC,KAAA,6BACAC,KAAA,SAAAC,GACA,IAAAA,EAAAV,KAAAsD,OACAjD,EAAAkD,SACA,gCACA,MAEAC,kBAAA,aACAC,iBAAA,KACA7B,KAAA,YAGAnB,KAAA,WACAJ,EAAAqD,QAAArC,KAAA,WAEAsC,MAAA,WACAtD,EAAAqD,QAAAE,IAAA,KAGAvD,EAAAgD,SAAA3C,EAAAV,SCtDe6D,GADE9B,OAFP,WAAgB,IAAaC,EAAb1B,KAAa2B,eAA0BC,EAAvC5B,KAAuC6B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+B4B,aAAaC,OAAA,SAAiB1B,OAAQ2B,eAAA,SAApI1D,KAA2J2D,GAA3J3D,KAA2J,kBAAA4D,EAAAC,GAA4C,OAAAjC,EAAA,eAAyBkC,IAAAD,EAAA9B,OAAiBgC,MAAAH,EAAAI,aAAwBpC,EAAA,cAAmBG,OAAOlC,GAAA+D,EAAA/D,OAAc,KAAM,QAEjT4C,oBCChC,IAcIwB,EAdqBrB,EAAQ,OAcjBsB,CACdxB,EACAa,GAT6B,EAV/B,SAAoBT,GAClBF,EAAQ,SAaS,KAEU,MAUduB,EAAA,QAAAF,EAAiB","file":"static/js/18.01008f10fbb7cda66b16.js","sourcesContent":["<template>\r\n  <div class=\"auto_y\">\r\n    <el-button icon=\"el-icon-check\" class=\"sure Fences_3-step3\" type=\"primary\" @click=\"getCheckedNodes\">保存</el-button>\r\n    <el-tree\r\n      :data=\"data\"\r\n      show-checkbox\r\n      node-key=\"id\"\r\n      default-expand-all\r\n      :default-checked-keys=\"defaultch\"\r\n      ref=\"tree\"\r\n    ></el-tree>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 默认选中数据\r\n      defaultch: [2],\r\n      // 结构树数据\r\n      data: [{}]\r\n    };\r\n  },\r\n  props: {\r\n    id: null\r\n  },\r\n  created() {\r\n    // 获取所有人树结构\r\n    this.$ajax\r\n      .post(process.env.API_HOST + \"/rail/getPersonTree\")\r\n      .then(respones => {\r\n        this.data = respones.data;\r\n      });\r\n    // 获取默认选中\r\n    this.$ajax\r\n      .post(\r\n        process.env.API_HOST + \"/rail/getPersonIdByRailid\",\r\n        `railid=${this.id}`\r\n      )\r\n      .then(res => {\r\n        this.defaultch = res.data;\r\n        \r\n      });\r\n  },\r\n  methods: {\r\n    getCheckedNodes() {\r\n      // 保存设置事件\r\n      var Persons=[]\r\n      this.$refs.tree.getCheckedNodes().forEach(element => {\r\n        if (element.isPerson) {\r\n          Persons.push(element.id)\r\n        }\r\n      });\r\n       this.$ajax\r\n      .post(\r\n        process.env.API_HOST + \"/rail/insertPersonRailGroup\",\r\n        `userid=${this.$store.state.token}&persons=${JSON.stringify(Persons)}&railgroupid=${this.id}`\r\n      )\r\n      .then(res => {\r\n         if(res.data=='success'){\r\n           this.$message({\r\n          message: '修改成功',\r\n          type: 'success'\r\n        });\r\n     }else{\r\n         this.$message.error('修改失败');\r\n     }\r\n     \r\n      });\r\n      \r\n\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.sure {\r\n  position: fixed;\r\n  bottom: 100px;\r\n  right: 70px;\r\n  z-index: 11;\r\n}\r\n.auto_y{\r\n  height: 800px;\r\n  overflow-y: auto\r\n}\r\n.auto_y::-webkit-scrollbar { width: 0 !important }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Fence/Fencestree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auto_y\"},[_c('el-button',{staticClass:\"sure Fences_3-step3\",attrs:{\"icon\":\"el-icon-check\",\"type\":\"primary\"},on:{\"click\":_vm.getCheckedNodes}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.data,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defaultch}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d6d2e80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Fence/Fencestree.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d6d2e80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Fencestree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Fencestree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Fencestree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d6d2e80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Fencestree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d6d2e80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Fence/Fencestree.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-tabs tab-position=\"left\" style=\"height: 800px;\">\r\n      <el-tab-pane v-for=\"(item,index) in groupids\" :key=\"index\" :label=\"item.groupname\">\r\n        <Fencestree :id=\"item.id\" />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Fencestree from \"./Fencestree.vue\";\r\nexport default {\r\n  components: {\r\n    Fencestree\r\n  },\r\n  data() {\r\n    return {\r\n      groupids: []\r\n    };\r\n  },\r\n  created() {\r\n    //  this.$notify({\r\n    //       title: '提示',\r\n    //       message: '该围栏组适用于右侧建筑、房间、或者人员。',\r\n    //       duration: 0\r\n    //     });\r\n    // this.$alert('灰色区域为定义的围栏组名称，该围栏组适用于白色区域的建筑、房间、或者人员。', '提示', {\r\n    //     confirmButtonText: '确定',\r\n    //     callback: action => {\r\n    //     }\r\n    //   });\r\n\r\n    // this.$alert('左侧为您配置的围栏组，请在右侧勾选建筑、房间、或者人员来添加到目前所在的围栏组，点击保存即可。', '提示', {\r\n    //     confirmButtonText: '确定',\r\n    //     callback: action => {\r\n    //     }\r\n    //   });\r\n    this.$ajax\r\n      .post(process.env.API_HOST + \"/rail/getAllRailGroupList\")\r\n      .then(respones => {\r\n        if (respones.data.length === 0) {\r\n          this.$confirm(\r\n            \"当前没有关于电子围栏的数据，请在电子围栏配置页面进行添加！\",\r\n            \"提示\",\r\n            {\r\n              confirmButtonText: \"转到电子围栏配置页面\",\r\n              cancelButtonText: \"取消\",\r\n              type: \"warning\"\r\n            }\r\n          )\r\n            .then(() => {\r\n              this.$router.push(\"Fence\");\r\n            })\r\n            .catch(() => {\r\n              this.$router.go(-1);\r\n            });\r\n        } else {\r\n          this.groupids = respones.data;\r\n        }\r\n      });\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Fence/Fences.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{staticStyle:{\"height\":\"800px\"},attrs:{\"tab-position\":\"left\"}},_vm._l((_vm.groupids),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.groupname}},[_c('Fencestree',{attrs:{\"id\":item.id}})],1)}),1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-183f4716\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Fence/Fences.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-183f4716\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Fences.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Fences.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Fences.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-183f4716\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Fences.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Fence/Fences.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}